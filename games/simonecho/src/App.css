/* ================================================
   Simon Echo â€” App.css
   ================================================ */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  --gap: 6px;
  --board-size: min(72vw, 72vh, 380px);
  --center-size: calc(var(--board-size) * 0.28);

  --green-dark:  #144d14;
  --green-lit:   #39ff14;
  --red-dark:    #4d1414;
  --red-lit:     #ff3939;
  --blue-dark:   #14144d;
  --blue-lit:    #4488ff;
  --yellow-dark: #4d4d14;
  --yellow-lit:  #ffe833;
}

body {
  background: #0a0a0a;
  color: #fff;
  font-family: "Segoe UI", system-ui, sans-serif;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ---- Layout ---- */
.app {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 16px;
  max-width: 480px;
  width: 100%;
}

/* ---- Header ---- */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 0 8px;
}

.score-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  min-width: 64px;
}

.score-label {
  font-size: 0.65rem;
  letter-spacing: 0.12em;
  color: #888;
  text-transform: uppercase;
}

.score-value {
  font-size: 2rem;
  font-weight: 700;
  color: #fff;
  line-height: 1;
}

.title {
  font-size: 1.5rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-align: center;
  color: #eee;
  line-height: 1.1;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
}

/* ---- Indicator ---- */
.indicator {
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
  letter-spacing: 0.06em;
}

.ind-watch {
  color: #aaa;
  animation: pulse 1s ease-in-out infinite;
}

.ind-turn {
  color: #ffdd44;
  font-weight: 700;
  animation: pulse 0.6s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.4; }
}

/* ---- Board ---- */
.board-wrapper {
  position: relative;
  width: var(--board-size);
  height: var(--board-size);
}

.board {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: #111;
  position: relative;
  overflow: hidden;
}

/* 4 sectors as quadrants */
.sector {
  position: absolute;
  border: none;
  cursor: pointer;
  transition:
    filter 120ms ease,
    transform 120ms ease;
}

.sector:disabled {
  cursor: default;
}

/* Quadrant sizing with gaps */
.sector-green,
.sector-red {
  top: 0;
  height: calc(50% - var(--gap) / 2);
}

.sector-yellow,
.sector-blue {
  bottom: 0;
  height: calc(50% - var(--gap) / 2);
}

.sector-green,
.sector-yellow {
  left: 0;
  width: calc(50% - var(--gap) / 2);
}

.sector-red,
.sector-blue {
  right: 0;
  width: calc(50% - var(--gap) / 2);
}

/* Round the outer corners to create the arc */
.sector-green  { border-radius: 100% 0 0 0; background: var(--green-dark);  }
.sector-red    { border-radius: 0 100% 0 0; background: var(--red-dark);    }
.sector-yellow { border-radius: 0 0 0 100%; background: var(--yellow-dark); }
.sector-blue   { border-radius: 0 0 100% 0; background: var(--blue-dark);   }

/* --- Active (lit) state --- */
.sector-green.active {
  background: var(--green-lit);
  filter: brightness(1.4) drop-shadow(0 0 16px var(--green-lit));
  transform: scale(1.04);
  transform-origin: top left;
}
.sector-red.active {
  background: var(--red-lit);
  filter: brightness(1.4) drop-shadow(0 0 16px var(--red-lit));
  transform: scale(1.04);
  transform-origin: top right;
}
.sector-yellow.active {
  background: var(--yellow-lit);
  filter: brightness(1.4) drop-shadow(0 0 16px var(--yellow-lit));
  transform: scale(1.04);
  transform-origin: bottom left;
}
.sector-blue.active {
  background: var(--blue-lit);
  filter: brightness(1.4) drop-shadow(0 0 16px var(--blue-lit));
  transform: scale(1.04);
  transform-origin: bottom right;
}

/* hover highlight (only when not disabled) */
.sector-green:not(:disabled):hover  { background: #1c6e1c; }
.sector-red:not(:disabled):hover    { background: #6e1c1c; }
.sector-yellow:not(:disabled):hover { background: #6e6e1c; }
.sector-blue:not(:disabled):hover   { background: #1c1c6e; }

/* --- Error flash state --- */
.sector.error {
  animation: sector-error-flash 0.15s ease 3 alternate;
}

@keyframes sector-error-flash {
  from { background: #330000; filter: none; }
  to   { background: #ff2222; filter: brightness(1.3); }
}

/* --- Center circle --- */
.center-circle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: var(--center-size);
  height: var(--center-size);
  border-radius: 50%;
  background: #111;
  border: 2px solid #222;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.center-btn {
  background: transparent;
  border: none;
  color: #eee;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  cursor: pointer;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  transition: color 0.15s;
}

.center-btn:hover { color: #fff; }

.center-level {
  font-size: 1.4rem;
  font-weight: 700;
  color: #aaa;
}

/* ---- Floating Checkmarks ---- */
.checkmark {
  position: absolute;
  font-size: 1.6rem;
  font-weight: 700;
  pointer-events: none;
  animation: float-up 0.8s ease forwards;
  z-index: 20;
}

.checkmark-green  { top: 20%; left: 20%; color: var(--green-lit); }
.checkmark-red    { top: 20%; right: 20%; color: var(--red-lit); }
.checkmark-yellow { bottom: 20%; left: 20%; color: var(--yellow-lit); }
.checkmark-blue   { bottom: 20%; right: 20%; color: var(--blue-lit); }

@keyframes float-up {
  0%   { opacity: 1; transform: translateY(0) scale(1); }
  60%  { opacity: 1; transform: translateY(-24px) scale(1.2); }
  100% { opacity: 0; transform: translateY(-40px) scale(0.9); }
}

/* ---- Level Clear Popup ---- */
.level-clear {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  z-index: 30;
}

.light-ring {
  position: absolute;
  width: 90%;
  height: 90%;
  border-radius: 50%;
  border: 4px solid rgba(255, 255, 100, 0.9);
  animation: ring-expand 1.1s ease-out forwards;
}

@keyframes ring-expand {
  0%   { transform: scale(0.6); opacity: 1; }
  100% { transform: scale(1.3); opacity: 0; }
}

.level-clear-text {
  font-size: 2.2rem;
  font-weight: 900;
  color: #ffe833;
  text-shadow: 0 0 20px #ffe833, 0 0 40px rgba(255, 232, 51, 0.6);
  animation: pop-in 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards,
             fade-out 0.4s ease 0.7s forwards;
  transform-origin: center;
  z-index: 1;
}

@keyframes pop-in {
  0%   { transform: scale(0.4); opacity: 0; }
  100% { transform: scale(1);   opacity: 1; }
}

@keyframes fade-out {
  0%   { opacity: 1; }
  100% { opacity: 0; }
}

/* ---- Game Over Banner ---- */
.gameover-banner {
  text-align: center;
  line-height: 1.5;
}

.gameover-title {
  font-size: 1.4rem;
  font-weight: 900;
  letter-spacing: 0.1em;
  color: #ff4444;
}

.gameover-score {
  font-size: 1rem;
  color: #ccc;
}

.gameover-score strong {
  color: #fff;
  font-size: 1.4rem;
}

.new-hi {
  font-size: 1rem;
  font-weight: 700;
  color: #ffe833;
  animation: pulse 0.8s ease-in-out infinite;
}

/* ---- Screen shake ---- */
.shake {
  animation: shake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%       { transform: translateX(-10px) rotate(-1deg); }
  20%       { transform: translateX(10px) rotate(1deg); }
  30%       { transform: translateX(-10px) rotate(-1deg); }
  40%       { transform: translateX(10px) rotate(1deg); }
  50%       { transform: translateX(-6px); }
  60%       { transform: translateX(6px); }
  70%       { transform: translateX(-3px); }
  80%       { transform: translateX(3px); }
  90%       { transform: translateX(-1px); }
}
